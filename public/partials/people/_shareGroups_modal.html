<div ng-show='modal.busy' ng-class="{ 'hide-spinner' : !modal.busy }" id='spinner'></div>

<div class="modal-header text-center">
  <h3 class="modal-title">Share by Groups</h3>
</div>

<div class="modal-body">
  <div class='row'>
    <h4 ng-show='modal.groups.length > 0' class='text-center'>Select Groups to Share</h4>
    <div class='extra-bottom-margins'>
      <span class="label" ng-repeat='group in modal.groups' ng-class="{'label-info': !modal.selected[group.id], 'label-success': modal.selected[group.id]}">
        <a href='' ng-click='modal.selectGroup(group.id)'>{{ group.name }}</a>
      </span>
    </div>
  </div>
  <div ng-class="{ 'row' : modal.mediumSize }">
    <form ng-class="{ 'col-sm-8' : modal.mediumSize, 'col-sm-offset-2' : modal.mediumSize }" class='extra-bottom-margins' ng-submit='modal.send()'>
      <div class="form-group">
        <label for="email">Email address</label>
        <input ng-model="modal.email" type="email" class="form-control" id="email" autofocus required="required" >
      </div>
      <button type="submit" class="btn btn-primary btn-block">Send</button>
    </form>
    <div ng-class="{ 'col-sm-8' : modal.mediumSize, 'col-sm-offset-2' : modal.mediumSize }" ng-show='modal.noneSelected' class="text-warning text-center">
      <h5><strong>At least one group must be chosen.</strong></h5>
    </div>
    <div ng-class="{ 'col-sm-8' : modal.mediumSize, 'col-sm-offset-2' : modal.mediumSize }" ng-show='modal.emailsMatch' class="text-primary text-center">
      <h5><strong>You are not allowed to share people with yourself.</strong></h5>
    </div>
  </div>
</div>

<div class="modal-footer">
  <a class="btn btn-success" type="button" ng-click="modal.close()">Cancel</a>
</div>